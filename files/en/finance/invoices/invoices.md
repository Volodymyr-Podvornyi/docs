Invoices
==========

An invoice is a commercial document that specifies a transaction between a buyer and a seller.
If goods or services were purchased on credit, the invoice usually specifies the terms of the deal,
and provides information on the available methods of payment.
An invoice is also known as a bill or sales invoice.

Splynx provides the ability to work with or without invoices.
Without issuing invoices, Splynx just receives payments and charges customers each invoice period without creating an official document. When invoicing is required, Splynx is able to generate invoices automatically or an administrator can issue invoices manually.

Invoices can be created conjointly or separately. Invoices in PDF format are fully customizable with templates.
All documents generated by Splynx can be exported in different formats for printing or sending to the end-users.

---

* **All issued Invoices** can be found in `Finance → Invoices`. With the use of a filter, it is possible to display invoices by **Period** of time, **Partner** or **Status** (*Any, Paid, Unpaid, Deleted*). Beneath the list/table of invoices you'll find a totals table that displays a total of all invoices by their status, the number of invoices in each status and the total amount of money paid and unpaid in each status of invoices.

  ![Invoices page](invoices_main.png)

* **To print or to export the list of invoices** for accounting purposes, go to `Finance → Invoices` and click on `Export`.

  ![Invoices Export](export_invoices.png)

In the export window, you can choose the period of time and the export type/format (PDF, CSV, external handler, etc.).

![Invoices Details](export_details.png)

---

* In `Finance → Invoices` there are a **number of operations** that can be executed with the icons in the **Actions** column:

|   |   |
| ------------ | ------------ |
|<icon class="image-icon">![icon1](icon1.png)</icon>  |  View an invoice |
|<icon class="image-icon">![icon2](icon2.png)</icon>   | View an invoice as a PDF file  |
|<icon class="image-icon">![icon3](icon3.png)</icon>   | Download an invoice as a PDF file  |
|<icon class="image-icon">![icon4](icon4.png)</icon>   | Send an invoice via Email/SMS or as a message to Customer portal |
|<icon class="image-icon">![icon5](icon5.png)</icon>   | Edit a payment  |
|<icon class="image-icon">![icon6](icon6.png)</icon>   | Delete a payment or mark it as unpaid  |
|<icon class="image-icon">![icon7](icon7.png)</icon>   | Delete an invoice with/without transaction |
|<icon class="image-icon">![icon8](icon8.png)</icon>   |Pay an invoice|

The same operations with invoices you can find in [Customer billing](customer_management/customer_billing/customer_billing.md) too.

* To **view an invoice** with the view icon<icon class="image-icon">![View icon](icon2.png)</icon>, it is necessary to configure an **invoice template** first in `Config → System → Templates` and also to specify the use of the selected/modified template in `Config → System → Company information`.

![Template values](template_values.png)

On the **Company information** page, we define the [partner](administration/main/partners/partners.md) and the PDF [template](configuration/system/templates/templates.md) ('Invoice PDF base' is selected as an example by default).
Once the PDF template is defined, it will be possible to view the invoice in PDF format.

![Invoice view](invoice_view.jpg)

![Invoice view](invoice_view.png)

---

[Finance formats](configuration/main_configuration/localization/localization.md) displayed on the invoice are customizable. Click on `Config → Main → Localization`,  to define the currency and other finance format settings.

![Finance format settings](finance_format_setting.png)

Please note that all [templates](configuration/system/templates/templates.md) can be customized, navigate to `Config / Templates /` Choose the type of templates to display/work with and simple edit or add a new template you wish to use:

![Invoice templates](templates.png)

---

In `Config → Finance → Settings` can be found the **Global invoices settings** for all customers in Splynx system. In this menu, you can also define the **Invoice number format**, by default is used `{year}{partner_id|2}{next|6}`.

![Invoice number pattern](invoice_number_pattern.png)

You might also be interested in [Finance settings](configuration/finance/finance_settings/finance_settings.md) description.

## Options description:

**Create invoices (after Charge & Invoice)** - toggle enables/disables an automatic invoice generation for specific customer when the **Charge & Invoice** was used in `Customers → View → Billing Overview`

![Charge & Invoice](charge&invoice.png)

The global option to **enable automatic issuing** is located in `Config → Finance → Automation` (see [Automation](configuration/finance/automation/automation.md)).

 When the toggle **Create Invoices (after charge & invoice)** is not enabled in customer's `Billing Overview` tab, you can create invoice manually using the **Add One-Time invoice** or **Add recurring invoice** buttons in `Billing → Invoices` tab, during the step of invoice creating you can choose the next options - **Use transactions** (enabled by default), type a description, select a date, add (optionally) note for the customer or memo for yourself and specify service details such as period, price, VAT etc.

The button **Add recurring invoice** allows the creation of invoice that will be issued on a recurring basis, separately from the global billing cycle.

![Create invoice](create_invoice.png)

---

Another way to create invoice is to use **Add Invoice from transaction** button in the [Transactions](finance/transactions/transactions.md) tab under `Billing → Transactions`.

![Transaction tab](add_invoice_from_transaction.png)


**NOTE:** If a *transaction* was added manually using the **Add Transaction** button with the `Add to invoice` option, transaction would not be removed during the deletion of created invoice with it or using `Cancel last charge` button. Such unlinked transaction can be deleted manually.

<details>
<summary><b>click here to see the step-by-step example</b></summary>
<p markdown="1">

So, if the invoice includes at least one manual transaction and we are going to remove this invoice, such transaction can be remove only manually. Let's check it:

**STEP 1**

Create a transaction with the `Add to invoice` option:

![](img1.png)

![](img2.png)

**STEP 2**

Add some service to customer, e.g. Internet service

![](img3.png)

**STEP 3**

In `Billing → Billing Overview` press **Charge & Invoice** button to charge the customer

![](img4.png)

**STEP 4**

Double check if the manual transaction has been added to newly created invoice

![](img5.png)

![](img6.png)

**STEP 5**

Delete the invoice completely using <icon class="image-icon">![icon7](icon7.png)</icon> icon in `Billing → Invoices` tab. Or press `Cancel last charge` button in `Billing → Billing Overview` tab. The current invoice includes the auto (charge for service - step 3) and manual transactions (it was added manually in step 1).

![](img7.png)

The next warning message will be shown:

![](img7del_inv.png)

![](img7.1.png)

If the invoice includes only manual transaction (-s), e.g. invoice was created via **Add Invoice from Transactions** button, the warning message will be the next:

![](warning_msg1.png)

**STEP 6**

Check if the manual transaction is present in `Billing → Transactions`. Mind, that it can be removed manually.

![](img9.png)

</p>
</details>


Also, take into consideration the following:

- during the converting a [quote](crm/quotes/quotes.md) to the invoice in customer's profile (`CRM → Quotes` tabs) or the converting some lead account to customer one, the auto transaction will be created. If we remove the created invoice, the auto transaction will be removed as well;

- if we create the invoice manually e.g. using `Add one-time invoice` button and after that remove such invoice, the transaction will be removed automatically;

These statements and example above also apply to `delete` option in drop-down menu with mass **Actions** in `Billing → Invoices`. For more information about transactions, please navigate to the [Transactions manual](finance/transactions/transactions.md).


---

While deleting the unpaid invoice in customer's profile in `Billing → Invoices` tab, it's possible to use `Mark as delete` option instead of delete invoice completely. The option can be useful when we want to have a fuller context of the customer's billing flow.

![](mark_as_deleted.png)

In this case, the invoice will be marked as deleted and its auto transaction (-s) will be removed. The manual transaction (-s) related to the invoice will remain in any case. But such transaction can be deleted manually.

![](mark_as_deleted1.png)

**NOTE:** The invoice (-s) with `Deleted` status cannot be reverted back to `Unpaid` status, only **Delete completely** option can be applied.

![](mark_as_deleted2.png)

---

To **edit an unpaid invoice** click on the <icon class="image-icon">![Edit icon](editinvoice.png)</icon> icon in customer's `Billing → Invoices` tab.

![Invoice mobile rent](edit_invoice.png)

---

It is also possible to send invoices via email with the <icon class="image-icon">![Send invoice](icon4.png)</icon> icon (if the email server is [configured](configuration/main_configuration/email_config/email_config.md)) in `Billing → Invoices`.
You can write a message body or choose a template to populate it.

![Send file](send_file.png)

You can also type a new message body and save it as a new template.

![Save template](save_template.png)

---
